<html>
    <head>
    <title>One or Two features</title>
    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">
    <SCRIPT language="javascript" type="text/javascript" src="../static/js/jquery-3.2.0.min.js"></SCRIPT>
    <SCRIPT>
        function reload(){
            var start = parseInt(document.getElementById('start').value, 10) ;
            var end = parseInt(document.getElementById('end').value, 10);

            if(isNaN(start) || start <= 0 || isNaN(end) || end <= 0 || end <= start){
                alert('Please fill the valid genome index');
                return false;
            }
            var chr = document.getElementById('chr').value;
            var sizes = {'chrY': '59373566', 'chrX': '155270560', 'chr13': '115169878', 'chr12': '133851895', 'chr11': '135006516', 'chr10': '135534747', 'chr17': '81195210', 'chr16': '90354753', 'chr15': '102531392', 'chr14': '107349540', 'chr19': '59128983', 'chr18': '78077248', 'chr22': '51304566', 'chr20': '63025520', 'chr21': '48129895', 'chr7': '159138663', 'chr6': '171115067', 'chr5': '180915260', 'chr4': '191154276', 'chr3': '198022430', 'chr2': '243199373', 'chr1': '249250621', 'chr9': '141213431', 'chr8': '146364022'}
            if (sizes[chr] === undefined || parseInt(sizes[chr], 10) < end){
                alert('Please fill the valid genome index');
                return false;
            }
            return true;
        }
    </SCRIPT>
    </head>
    <body>
        <div class="header">
            <h3 class="text-muted">{{session['feature1']}} VS {{session['feature2']}}</h3>
        </div>
        <form action="/double" method="post" name="location" onsubmit="return reload()">
            <h5 class="text-muted">Please select the genome features</h5>
            <label>Chromosome:</label>
            <input type="text" name="chr" id="chr" maxlength="30" value="" placeholder="{{session['chr']}}" required/>
            <label>Start:</label>
            <input type="number" name="start" id="start" maxlength="30" value="" placeholder="{{session['start']}}" required/>
            <label>End:</label>
            <input type="number" name="end" id="end" maxlength="30" value="" placeholder="{{session['end']}}" required/>
            <input type = "submit" name="submit"/>
        </form>
        <div>
            <div class="box">
                <iframe id="ifr1" frameborder="0" width="50%" height="512" align="left"></iframe>
            </div>

            <div class="box">
                <iframe id="ifr2" frameborder="0" width="50%" height="512" align="right"></iframe>
            </div>
        </div>
        <div style="clear:both"></div>


        <footer class="footer">
            <p>&copy; Kaifu Chen lab 2017, Houston Methodist</p>
        </footer>

    </body>
</html>